<h1>Request for Permission</h1>

<p>Client <strong>{{ client.name }}</strong> would like to access this information of you ...</p>

<form method="post" action="{% url 'openid_provider:authorize' %}">
    
    {% csrf_token %}

    <input name="client_id" type="hidden" value="{{ params.client_id }}" />
    <input name="redirect_uri" type="hidden" value="{{ params.redirect_uri }}" />
    <input name="response_type" type="hidden" value="{{ params.response_type }}" />
    <input name="scope" type="hidden" value="{{ params.scope_str }}" />
    <input name="state" type="hidden" value="{{ params.state }}" />

    <ul>
    {% for scope in params.scope %}
        {% if scope != 'openid' %}
        <li>{{ scope | capfirst }}</li>
        {% endif %}
    {% endfor %}
    </ul>

    <input type="submit" value="Decline" />
    <input name="allow" type="submit" value="Authorize" />

</form>

{% endblock %}